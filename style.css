:root{
  --bg:#fff7fb;
  --fg:#16161a;
  --muted:#6b6172;
  --pill:#ffffff;
  --border:rgba(22,22,26,.10);
  --accent:#d85aa6;
  --card-radius:28px;
  --card-shadow: 0 24px 60px rgba(22,22,26,.18), 0 6px 16px rgba(22,22,26,.10);
  --page-bg:
    radial-gradient(1200px 600px at 20% 10%, rgba(216,90,166,.10), transparent 60%),
    radial-gradient(900px 500px at 80% 0%, rgba(70,130,255,.10), transparent 55%),
    var(--bg);
}

*{
  box-sizing: border-box;
}

html, body{
  height:100%;
}

body{
  margin:0;
  background: var(--page-bg);
  color:var(--fg);
  line-height:1.8;
  font-family:
    ui-rounded,
    "Hiragino Maru Gothic ProN",
    "SF Pro Rounded",
    system-ui,
    -apple-system,
    "Hiragino Sans",
    "Noto Sans JP",
    sans-serif;
  overflow-x:auto;
}

.wk-scene{
  width:100%;
  height:100vh;
  perspective: clamp(600px, 100vw, 1400px);
  position:relative;
  padding: clamp(14px, 2vw, 28px);
}

.wk-card-shell{
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  /* Orb + cutout alignment variables (used by the orb and the mask). */
  --orb-size: clamp(96px, 20vw, 144px);
  --orb-core-scale: 0.6;
  --orb-bottom: clamp(12px, 2.2vw, 22px);
  --orb-cutout-gap: 6px;
  --orb-hole-feather: 2px;
  --orb-core-size: calc(var(--orb-size) * var(--orb-core-scale));
  --orb-hole-radius: calc((var(--orb-core-size) / 2) + var(--orb-cutout-gap));
  --orb-center-x: 50%;
  --orb-center-y: calc(100% - var(--orb-bottom) - (var(--orb-size) / 2));
}

.wk-card-rotator{
  position:relative;
  width:100%;
  height:100%;
  /* 3D flip container: front/back faces live inside this rotator. */
  transform-style:preserve-3d;
  --flip: 0deg;
  --tilt-x: 0deg;
  --tilt-y: 0deg;
  /*
   * Rotation model:
   * - rotateY(var(--flip)) performs the main card flip around the global Y axis.
   * - rotateX(var(--tilt-x)) then tilts the card around the (already flipped) X axis.
   * - rotateY(var(--tilt-y)) finally applies an additional tilt in the *local* Y axis
   *   after the flip, so this is intentionally a second rotateY in the post-flip space.
   * This ordering keeps the back face readable while still allowing per-face tilt.
   */
  transform: rotateY(var(--flip)) rotateX(var(--tilt-x)) rotateY(var(--tilt-y));
  transition: transform .6s cubic-bezier(0.4, 0.0, 0.2, 1), box-shadow .6s cubic-bezier(0.4, 0.0, 0.2, 1);
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  z-index: 1;
}

/* Debug mode (temporary): uncomment to verify face visibility.
.wk-front{ background: rgba(255, 80, 80, .25); }
.wk-back{ background: rgba(80, 120, 255, .25); }
*/

.wk-surface{
  position: absolute;
  inset: 0;
  border-radius: var(--card-radius);
  transform-style: preserve-3d;
}

.wk-surface::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: var(--card-radius);
  z-index:1;
  background: linear-gradient(120deg, transparent 10%, rgba(255,255,255,.55) 50%, transparent 90%);
  opacity:0;
  transform: translateX(-25%);
  transition: opacity .6s cubic-bezier(0.4, 0.0, 0.2, 1), transform .6s cubic-bezier(0.4, 0.0, 0.2, 1);
  pointer-events:none;
}

.wk-card-rotator.is-flipped{
  --flip: 180deg;
  box-shadow: 0 28px 70px rgba(22,22,26,.22), 0 6px 18px rgba(22,22,26,.12);
}

.wk-card-rotator.is-flipped .wk-surface::before{
  opacity:.7;
  transform: translateX(25%);
}

/* CSS mask breaks 3D backface rendering in practice; use a stable visual cutout instead. */
.wk-surface::after{
  content: "";
  position: absolute;
  width: calc(var(--orb-hole-radius) * 2);
  height: calc(var(--orb-hole-radius) * 2);
  left: var(--orb-center-x);
  top: var(--orb-center-y);
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: var(--page-bg);
  z-index: 4;
  pointer-events: none;
  /* Subtle rim to hint at a socket without changing the overall look. */
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.7),
    0 2px 6px rgba(22,22,26,.12);
}

.wk-face{
  position:absolute;
  inset:0;
  border-radius: var(--card-radius);
  z-index:2;
  background: rgba(255,255,255,.70);
  /* Backdrop blur disabled intentionally for performance and broader browser compatibility.
  -webkit-backdrop-filter: blur(16px);
  backdrop-filter: blur(16px); */
  border: 1px solid var(--border);
  backface-visibility:hidden;
  -webkit-backface-visibility: hidden;
  transform-style:preserve-3d;
  overflow:hidden;
}

.wk-front{
  transform: rotateY(0deg);
}

.wk-back{
  transform: rotateY(180deg);
  background: linear-gradient(160deg, rgba(255,255,255,.92), rgba(255,255,255,.76));
}

.wk-face-inner{
  height:100%;
  overflow-y:auto;
  scrollbar-gutter: stable; /* Keeps layout from shifting when scrollbars appear/disappear. */
  padding: clamp(22px, 4vw, 56px);
}

.wk-main{ width:100%; min-height:100%; }
.wk-front-content{ max-width:720px; margin: 0 auto; }
h1{ margin:0 0 10px; font-size: clamp(34px, 4vw, 46px); }
h2{ margin: 26px 0 10px; font-size: 16px; color: var(--muted); }

ul{ list-style:none; padding:0; margin: 12px 0 0; display:flex; flex-direction:column; gap:12px; }

a{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.70);
  backdrop-filter: blur(10px);
  border-radius: 999px;
  color: var(--fg);
  text-decoration:none;
}

.link-content{
  display:flex;
  align-items:center;
  gap:10px;
}

.thumb{
  width:36px;
  height:36px;
  border-radius:10px;
  object-fit:cover;
  opacity: 0.85;
  background:#fff;
  border:1px solid rgba(22,22,26,.08);
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}

a:hover{ border-color: rgba(216,90,166,.35); }

h1{
  font-weight: 700;
  letter-spacing: -0.01em;
}

a::after{
  content: "â†’";
  color: var(--accent);
  font-size: 24px;
  font-weight: 800;
  line-height: 1;
  opacity: .6;
  transition: transform .15s ease, opacity .15s ease;
}
a:hover::after{
  transform: translateX(4px);
  opacity: 1;
}

.name{
  margin: 0 0 20px;
  line-height: 1.3;
}

.name .jp{
  display: block;
  font-size: clamp(40px, 6vw, 56px);
  font-weight: 800;
  letter-spacing: -0.02em;
  color: var(--fg);
}

.name .en{
  display: block;
  margin-top: 6px;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: .08em;
  color: var(--muted);
}

.hero{
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 28px;
}

.name-text{
  display: flex;
  flex-direction: column;
}


.avatar{
  width: 56px;
  height: 56px;
  border-radius: 50%;
  object-fit: cover;
  background: #fff;
  border: 0.5px solid rgba(36, 33, 33, 0.06);
  box-shadow:
    0 2px 12px rgba(32, 26, 26, 0.1),
    0 0 0 2px rgba(247, 187, 205, 0.65);
}

.wk-hero{
  margin: 10px 0 24px;
}

.wk-lead{
  margin: 0 0 16px;
  color: var(--muted);
  font-size: 15px;
}

.wk-orb-toggle{
  position:absolute;
  left: var(--orb-center-x); /* Center with translateX so scrollbar width doesn't affect horizontal position. */
  bottom: var(--orb-bottom);
  transform: translateX(-50%);
  width: var(--orb-size);
  height: var(--orb-size);
  border-radius: 999px;
  border: 0;
  background: transparent;
  padding: 0;
  cursor: pointer;
  z-index: 6;
  display: grid;
  place-items: center;
  touch-action: manipulation;
}

.wk-orb-core{
  width: calc(var(--orb-core-scale) * 100%);
  height: calc(var(--orb-core-scale) * 100%);
  border-radius: 50%;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.95), rgba(255,255,255,.65) 35%, rgba(216,90,166,.14) 60%, rgba(70,130,255,.12) 100%),
    radial-gradient(circle at 70% 75%, rgba(22,22,26,.12), transparent 55%);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.6),
    inset 0 -4px 8px rgba(22,22,26,.12),
    0 6px 12px rgba(22,22,26,.18);
  transition: transform .2s ease, box-shadow .2s ease;
}

.wk-orb-toggle:hover .wk-orb-core{
  transform: translateY(-1px);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.7),
    inset 0 -4px 8px rgba(22,22,26,.14),
    0 8px 14px rgba(22,22,26,.2);
}

.wk-orb-toggle:focus-visible{
  outline: none;
}

.wk-orb-toggle:focus-visible .wk-orb-core{
  box-shadow:
    0 0 0 2px rgba(255,255,255,.9),
    0 0 0 4px rgba(216,90,166,.45),
    inset 0 0 0 1px rgba(255,255,255,.7),
    inset 0 -4px 8px rgba(22,22,26,.12),
    0 8px 16px rgba(22,22,26,.18);
}

.wk-back-hero{
  max-width: 720px;
  margin: 0 auto 28px;
}

.wk-kicker{
  margin: 0 0 6px;
  text-transform: uppercase;
  letter-spacing: .24em;
  font-size: 12px;
  color: var(--muted);
}

.wk-title{
  margin: 0 0 8px;
  font-size: clamp(28px, 5vw, 40px);
}

.wk-snapshots{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 16px;
  margin: 0 auto 28px;
  max-width: 920px;
}

.wk-shot{
  padding: 16px;
  border-radius: 20px;
  border: 1px dashed rgba(22,22,26,.16);
  background: rgba(255,255,255,.65);
}

.wk-shot-label{
  display:block;
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 10px;
}

.wk-shot-frame{
  height: 160px;
  border-radius: 14px;
  background:
    linear-gradient(135deg, rgba(216,90,166,.12), rgba(70,130,255,.12)),
    repeating-linear-gradient(90deg, rgba(255,255,255,.8) 0 12px, rgba(255,255,255,.35) 12px 24px);
  border: 1px solid rgba(22,22,26,.08);
}


@media (max-width: 720px){
  .wk-face-inner{ padding: 20px; }
}
@media (prefers-reduced-motion: reduce){
  .wk-card-rotator,
  .wk-surface::before,
  .wk-orb-core{
    transition: none !important;
  }
}
